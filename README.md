# juju-ansible
It creates ansible inventory from juju status.

#How to use
Clone this repository on juju client node.  
`ansible-playbook -i juju-ansible.py site.yml`

#Output-sample
    {
      "contrail-control": [
        "10.0.10.72",
        "10.0.10.76",
        "10.0.10.73"
      ],
      "contrail-webui": [
        "10.0.10.59",
        "10.0.10.69",
        "10.0.10.74"
      ],
      "zookeeper": [
        "10.0.10.12",
        "10.0.10.13",
        "10.0.10.14"
      ],
      "contrail-analytics": [
        "10.0.10.31",
        "10.0.10.37",
        "10.0.10.58"
      ],
      "nova-cloud-controller": [
        "10.0.10.28",
        "10.0.10.54",
        "10.0.10.25"
      ],
    ~~~~~~~snip~~~~~~~
    ~~~~~~~snip~~~~~~~
      "contrail-configuration": [
        "10.0.10.75",
        "10.0.10.77",
        "10.0.10.60"
      ],
      "_meta": {
        "hostvars": {
          "10.0.10.28": {
            "node": "0",
            "ha": "true",
            "hostname": "10.0.10.28",
            "ip_address": "10.0.10.28",
            "juju_name": "nova-cloud-controller/7"
          },
          "10.0.10.29": {
            "node": "3",
            "ha": "true",
            "hostname": "10.0.10.29",
            "ip_address": "10.0.10.29",
            "juju_name": "cassandra/5"
          },
          "10.0.10.75": {
            "node": "0",
            "ha": "false",
            "hostname": "10.0.10.75",
            "ip_address": "10.0.10.75",
            "juju_name": "contrail-configuration/3"
          },
          "10.0.10.20": {
            "node": "2",
            "ha": "true",
            "hostname": "10.0.10.20",
            "ip_address": "10.0.10.20",
            "juju_name": "cassandra/4"
          },
    ~~~~~~~snip~~~~~~~
    ~~~~~~~snip~~~~~~~
          "10.0.11.246": {
            "node": "0",
            "ha": "true",
            "hostname": "10.0.11.246",
            "ip_address": "10.0.11.246",
            "juju_name": "mysql/7"
          }
        }
      },
      "nova-compute": [
        "10.0.11.236",
        "10.0.11.235"
      ],
      "mysql": [
        "10.0.11.246",
        "10.0.11.248",
        "10.0.10.51"
      ],
      "rabbitmq-server": [
        "10.0.11.252",
        "10.0.11.253",
        "10.0.10.21"
      ],
      "keystone": [
        "10.0.11.250",
        "10.0.11.251",
        "10.0.10.52"
      ],
      "openstack-dashboard": [
        "10.0.10.53",
        "10.0.10.7",
        "10.0.10.11"
      ],
      "cinder": [
        "10.0.10.8",
        "10.0.10.22",
        "10.0.10.6"
      ],
      "allhosts": [
        "10.0.10.72",
        "10.0.10.76",
        "10.0.10.73",
        "10.0.10.59",
        "10.0.10.69",
        "10.0.10.74",
        "10.0.10.12",
        "10.0.10.13",
        "10.0.10.14",
        "10.0.10.31",
        "10.0.10.37",
        "10.0.10.58",
        "10.0.10.28",
        "10.0.10.54",
        "10.0.10.25",
        "10.0.10.18",
        "10.0.10.16",
        "10.0.10.19",
        "10.0.10.33",
        "10.0.10.34",
        "10.0.10.32",
        "10.0.10.24",
        "10.0.10.50",
        "10.0.10.26",
        "10.0.10.63",
        "10.0.10.65",
        "10.0.10.64",
        "10.0.10.23",
        "10.0.10.4",
        "10.0.10.3",
        "10.0.11.236",
        "10.0.11.235",
        "10.0.11.60",
        "10.0.10.64",
        "10.0.11.52",
        "10.0.10.65",
        "10.0.10.63",
        "10.0.11.124",
        "10.0.11.171",
        "10.0.11.170",
        "10.0.11.60",
        "10.0.11.59",
        "10.0.10.20",
        "10.0.10.29",
        "10.0.10.30",
        "10.0.10.71",
        "10.0.10.62",
        "10.0.10.17",
        "10.0.10.75",
        "10.0.10.77",
        "10.0.10.60",
        "10.0.11.236",
        "10.0.11.235",
        "10.0.11.246",
        "10.0.11.248",
        "10.0.10.51",
        "10.0.11.252",
        "10.0.11.253",
        "10.0.10.21",
        "10.0.11.250",
        "10.0.11.251",
        "10.0.10.52",
        "10.0.10.53",
        "10.0.10.7",
        "10.0.10.11",
        "10.0.10.8",
        "10.0.10.22",
        "10.0.10.6"
      ]
    }

